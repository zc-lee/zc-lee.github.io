(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{264:function(e,t,a){e.exports=a(489)},269:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){e.exports=a.p+"static/media/success.9299ba7c.png"},480:function(e,t,a){e.exports=a.p+"static/media/fail.43af1c05.png"},481:function(e,t,a){e.exports=a.p+"static/media/re_loading.c42c5205.png"},482:function(e,t,a){e.exports=a.p+"static/media/stop.296a4a53.png"},489:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(7),s=(a(269),a(31)),c=a(32),r=a(34),l=a(33),u=a(198),h=a(28),m=a(494),d=a(495),g=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"ssr-show"},o.a.createElement("h1",null,"ssr test"))}}]),a}(o.a.Component),p=a(260),f=a(241),v=a.n(f),b=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={html:""},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"ssr-show"},o.a.createElement("h1",null,"RichEditor"),o.a.createElement("div",{ref:"wangeditor"}),o.a.createElement("button",{onClick:this.getHtml.bind(this)},"\u83b7\u53d6html"))}},{key:"componentDidMount",value:function(){this.initEditor()}},{key:"initEditor",value:function(){var e=this.refs.wangeditor,t=new v.a(e),a="";t.config.zIndex=100,t.config.uploadImgServer=a+"/fileclient-management/api/uploadpic",t.config.uploadImgMaxLength=1,t.config.customUploadImg=function(e,t){if(console.log(e),e[0]){var n=new window.FormData;n.append("file",e[0],"cover.jpg"),fetch(a+"/fileclient-management/api/uploadpic",{method:"POST",body:n}).then(function(e){return e.json()}).then(function(e){var a=e.resultData;a?t(a.resourceUrl):console.log(a.msg)})}else p.b.info("\u8acb\u9078\u64c7\u8981\u4e0a\u50b3\u7684\u5716\u7247")},t.config.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","link","list","justify","quote","image","undo","redo"],t.config.lang={"\u8bbe\u7f6e\u6807\u9898":"Title","\u5b57\u53f7":"Size","\u6587\u5b57\u989c\u8272":"Color","\u8bbe\u7f6e\u5217\u8868":"List","\u6709\u5e8f\u5217\u8868":"","\u65e0\u5e8f\u5217\u8868":"","\u5bf9\u9f50\u65b9\u5f0f":"Align","\u9760\u5de6":"","\u5c45\u4e2d":"","\u9760\u53f3":"","\u6b63\u6587":"p","\u94fe\u63a5\u6587\u5b57":"link text","\u94fe\u63a5":"link","\u4e0a\u4f20\u56fe\u7247":"Upload","\u7f51\u7edc\u56fe\u7247":"Web","\u56fe\u7247link":"image url","\u63d2\u5165\u89c6\u9891":"Video","\u683c\u5f0f\u5982":"format","\u4e0a\u4f20":"Upload","\u521b\u5efa":"init"},t.create(),this.editor=t}},{key:"getHtml",value:function(){var e=this.editor.txt.html();return console.log(e),e}},{key:"setHtml",value:function(e){this.editor.txt.html(e)}}]),a}(o.a.Component),E=a(246),j=a.n(E),w=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){console.log(e),console.log(e.toJSON()),localStorage.setItem("re-editor-value",JSON.stringify(e.toJS()))},n.state={value:JSON.parse(localStorage.getItem("re-editor-value"))},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.value;return o.a.createElement("div",{className:"ssr-show"},o.a.createElement("h1",null,"ReEditor"),o.a.createElement(j.a,{value:e,onChange:this.handleChange,placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"}))}}]),a}(o.a.Component),y=a(253),S=(a(477),function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",function(){return n.setState({src:t.result})}),console.log(t.result),t.readAsDataURL(e.target.files[0])}},n.state={src:"https://gss0.baidu.com/70cFfyinKgQFm2e88IuM_a/forum/w=580/sign=3b900475252eb938ec6d7afae56385fe/61954b10b912c8fcacb9f159f6039245d78821fd.jpg",newSrc:null,height:400},n}return Object(c.a)(a,[{key:"_crop",value:function(){var e=this.cropper.getCroppedCanvas({fillColor:"#fff",imageSmoothingQuality:"high"}).toDataURL();this.setState({newSrc:e})}},{key:"throttle",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;this.timer||(this.timer=setTimeout(function(){e(),t.timer=null},a))}},{key:"onCropperInit",value:function(e){this.cropper=e}},{key:"render",value:function(){var e=this.state.height;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("input",{type:"file",onChange:this.onSelectFile})),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(y.a,{src:this.state.src,style:{width:"500px",height:e+"px"},initialAspectRatio:1,dragMode:"crop",viewMode:0,background:!0,guides:!0,crop:this._crop.bind(this),onInitialized:this.onCropperInit.bind(this)}),o.a.createElement("img",{id:"preview",style:{height:e+"px",display:"inline-block",marginLeft:"20px"},src:this.state.newSrc,alt:""})))}}]),a}(n.Component)),M=(a(478),a(479)),k=a(480),O=a(481),x=a(482),_=0,C=1,I=2,z=[{ico:M,text:"\u5339\u914d\u6210\u529f"},{ico:k,text:"\u5339\u914d\u5931\u8d25"}];function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=[[0,0,0,0],[0,0,0,1],[0,0,1,0],[0,0,1,1],[0,1,0,0],[0,1,0,1],[0,1,1,0],[0,1,1,1],[1,0,0,0],[1,0,0,1],[1,0,1,0],[1,0,1,1],[1,1,0,0],[1,1,0,1],[1,1,1,0],[1,1,1,1]][arguments.length>2&&void 0!==arguments[2]?arguments[2]:0],n=.1*t;e.save(),e.beginPath(),e.moveTo(n,n),e.lineTo(n,.5*t-n),e.arc(n,.5*t,n,1.5*Math.PI,.5*Math.PI,a[0]),e.lineTo(n,t-n),e.lineTo(.5*t-n,t-n),e.arc(.5*t,t-n,n,Math.PI,0,a[1]),e.lineTo(t-n,t-n),e.lineTo(t-n,.5*t+n),e.arc(t-n,.5*t,n,.5*Math.PI,1.5*Math.PI,a[2]),e.lineTo(t-n,n),e.lineTo(.5*t+n,n),e.arc(.5*t,n,n,0,Math.PI,a[3]),e.lineTo(n,n),e.clip(),e.closePath()}var T=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).renderImage=function(){n.setState({status:_});var e=new Image;e.addEventListener("load",function(){var t=n.props,a=t.imageWidth,o=t.imageHeight,i=t.fragmentSize,s=n.refs.shadowCanvas.getContext("2d"),c=n.refs.fragmentCanvas.getContext("2d"),r=Math.floor(16*Math.random());X(s,i,r),X(c,i,r);var l=Math.floor(i+(a-2*i)*Math.random()),u=Math.floor((o-i)*Math.random());c.drawImage(e,l,u,i,i,0,0,i,i),s.fillStyle="rgba(0, 0, 0, 0.5)",s.fill(),s.restore(),c.restore(),n.setState({offsetX:l,offsetY:u}),n.setState({status:C})}),e.src=n.props.imageUrl},n.onShowTips=function(){if(!n.state.showTips){var e=n.state.status===I?0:1;n.setState({showTips:!0,tipsIndex:e});var t=setTimeout(function(){n.setState({showTips:!1}),clearTimeout(t)},2e3)}},n.state={isMovable:!1,offsetX:0,offsetY:0,startX:0,oldX:0,currX:0,status:_,showTips:!1,tipsIndex:0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.renderImage()}},{key:"componentDidUpdate",value:function(e){this.props.imageUrl&&e.imageUrl!==this.props.imageUrl&&this.renderImage()}},{key:"onMoveStart",value:function(e){this.state.status===C&&this.setState({isMovable:!0,startX:e.clientX})}},{key:"onMoving",value:function(e){if(this.state.status===C&&this.state.isMovable){var t=e.clientX-this.state.startX,a=this.state.oldX+t,n=this.props.imageWidth-this.props.fragmentSize;a=a<0?0:a>n?n:a,this.setState({currX:a})}}},{key:"onMoveEnd",value:function(){var e=this;this.state.status===C&&this.state.isMovable&&(this.setState(function(e){return{isMovable:!1,oldX:e.currX}}),Math.abs(this.state.currX-this.state.offsetX)<5?(this.setState(function(e){return{status:I,currX:e.offsetX}},this.onShowTips),this.props.onMatch()):(this.setState({status:3},function(){e.onReset(),e.onShowTips()}),this.props.onError()))}},{key:"onReset",value:function(){var e=this,t=setTimeout(function(){e.setState({oldX:0,currX:0,status:C}),clearTimeout(t)},1e3)}},{key:"onReload",value:function(){if(this.state.status===C||this.state.status===I){var e=this.refs.shadowCanvas.getContext("2d"),t=this.refs.fragmentCanvas.getContext("2d");e.clearRect(0,0,this.props.fragmentSize,this.props.fragmentSize),t.clearRect(0,0,this.props.fragmentSize,this.props.fragmentSize),this.setState({isMovable:!1,offsetX:0,offsetY:0,startX:0,oldX:0,currX:0,status:_},this.props.onReload)}}},{key:"render",value:function(){var e=this.props,t=e.imageUrl,a=e.imageWidth,n=e.imageHeight,i=e.fragmentSize,s=this.state,c=s.offsetX,r=s.offsetY,l=s.currX,u=s.showTips,h=s.tipsIndex,m=z[h];return o.a.createElement("div",{className:"image-code",style:{width:a}},o.a.createElement("div",{className:"image-container",style:{height:n,backgroundImage:'url("'.concat(t,'")')}},o.a.createElement("canvas",{ref:"shadowCanvas",className:"canvas",width:i,height:i,style:{left:c+"px",top:r+"px"}}),o.a.createElement("canvas",{ref:"fragmentCanvas",className:"canvas",width:i,height:i,style:{top:r+"px",left:l+"px"}}),o.a.createElement("div",{className:u?"tips-container--active":"tips-container"},o.a.createElement("i",{className:"tips-ico",style:{backgroundImage:'url("'.concat(m.ico,'")')}}),o.a.createElement("span",{className:"tips-text"},m.text))),o.a.createElement("div",{className:"reload-container"},o.a.createElement("div",{className:"reload-wrapper",onClick:this.onReload.bind(this)},o.a.createElement("i",{className:"reload-ico",style:{backgroundImage:'url("'.concat(O,'")')}}),o.a.createElement("span",{className:"reload-tips"},"\u5237\u65b0\u9a8c\u8bc1"))),o.a.createElement("div",{className:"slider-wrpper",onMouseMove:this.onMoving.bind(this),onMouseLeave:this.onMoveEnd.bind(this)},o.a.createElement("div",{className:"slider-bar"},"\u6309\u4f4f\u6ed1\u5757\uff0c\u62d6\u52a8\u5b8c\u6210\u62fc\u56fe"),o.a.createElement("div",{className:"slider-button",onMouseDown:this.onMoveStart.bind(this),onMouseUp:this.onMoveEnd.bind(this),style:{left:l+"px",backgroundImage:'url("'.concat(x,'")')}})))}}]),a}(o.a.Component);T.defaultProps={imageUrl:"",imageWidth:500,imageHeight:300,fragmentSize:80,onReload:function(){},onMatch:function(){},onError:function(){}};var N=T;function R(){var e=["https://gss0.baidu.com/70cFfyinKgQFm2e88IuM_a/forum/w=580/sign=3b900475252eb938ec6d7afae56385fe/61954b10b912c8fcacb9f159f6039245d78821fd.jpg","https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=991571279,1492844361&fm=26&gp=0.jpg","https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=4227342398,2949207363&fm=26&gp=0.jpg"],t=Math.random();return e[Math.floor(t*e.length)]+"?"+Math.random()}var U=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={url:""},e.onReload=function(){e.setState({url:R()})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({url:R()})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(N,{imageUrl:this.state.url,onReload:this.onReload.bind(this),onMatch:function(){console.log("code is match")}}))}}]),a}(n.Component),F=a(255),D=a.n(F),L=[{title:"App",path:"/",component:g},{title:"\u88c1\u526a",path:"/reactCropper",component:S},{title:"\u62fc\u56fe\u9a8c\u8bc1",path:"/loginValid",component:U},{title:"Editor",path:"/Editor",component:b},{title:"ReEditor",path:"/ReEditor",component:w},{title:"imgLazyload",path:"/imgLazyload",component:function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={imgs:["https://images.cnblogs.com/cnblogs_com/zc-lee/1901540/o_201216091158wugengji%20(1).jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901644/o_2012161143007aec54e736d12f2e07615a764cc2d56285356844.jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901644/o_201216114728013deab63aa80376386b4f983a184f6d.jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901644/o_2012161146434e4a20a4462309f774fbcd07710e0cf3d7cad60b.jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901644/o_201216114719be34b4c27d1ed21b5e262e84ab6eddc450da3f07.jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901540/o_201216091241wugengji%20(2).jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901644/o_2012161147562c6e26d3d539b60082cb6c6aec50352ac75cb702.jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901540/o_201216091213wugengji%20(3).jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901644/o_2012161146434e4a20a4462309f774fbcd07710e0cf3d7cad60b.jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901540/o_201216091229wugengji%20(4).jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901644/o_201216114629039598aa570dca3b.jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901644/o_2012161148532dcca28f8c5494ee50cec76029f5e0fe98257eea.jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901644/o_2012161149075469531d74d1b.jpg","https://images.cnblogs.com/cnblogs_com/zc-lee/1901644/o_201216114949859ea13533fa828b32c579a2fe1f4134960a5a29.jpg"]},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("a",{href:"https://www.npmjs.com/package/react-lazyload"},"https://www.npmjs.com/package/react-lazyload"),this.state.imgs.map(function(e,t){return o.a.createElement(D.a,{key:e+t,height:400,resize:!0,throttle:800},o.a.createElement("img",{height:"400",src:e}))}))}}]),a}(o.a.Component)}],P=m.a.Sider,H=m.a.Content,W=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({collapsed:!n.state.collapsed})},n.state={collapsed:!1,menus:L,currentMenu:"0",routes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];function t(e){return"/"===e.path}if(!e.some(function(e){return t(e)}))return console.warn("Don`t have route who path === '/'");if(e.findIndex(function(e){return t(e)})===e.length-1)return void console.warn("Route`s index already in last who path === '/'");var a=null;return(e=e.filter(function(e){return t(e)&&(a=e),!t(e)})).push(a),e}(L)},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(u.a,null,o.a.createElement(m.a,{style:{height:"100%"}},o.a.createElement(m.a,null,o.a.createElement(P,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},o.a.createElement(d.a,{theme:"dark",mode:"inline",defaultSelectedKeys:[this.state.currentMenu]},this.state.menus.map(function(e,t){return o.a.createElement(d.a.Item,{key:t},o.a.createElement(u.b,{to:e.path},e.title))}))),o.a.createElement(H,null,o.a.createElement(h.c,null,this.state.routes.map(function(e,t){return o.a.createElement(h.a,Object.assign({key:t},e))}))))))}}]),a}(n.Component);Object(i.render)(o.a.createElement(W,null),document.getElementById("root"))}},[[264,1,2]]]);
//# sourceMappingURL=main.f2db1db1.chunk.js.map