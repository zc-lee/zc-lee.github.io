{"version":3,"sources":["img/re_loading.png","img/stop.png","components/App.jsx","components/react-cropper.jsx","components/imgCode.jsx","components/loginValid.jsx","pages/routes.js","pages/Index.jsx","index.js","img/success.png","img/fail.png"],"names":["module","exports","__webpack_require__","p","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","react_default","a","createElement","className","React","Component","onSelectFile","e","target","files","length","reader","FileReader","addEventListener","setState","src","result","console","log","readAsDataURL","newSrc","height","cropper","getCroppedCanvas","fillColor","imageSmoothingQuality","toDataURL","func","_this2","delay","arguments","undefined","timer","setTimeout","type","onChange","style","display","react_cropper_es","width","initialAspectRatio","dragMode","viewMode","background","guides","crop","_crop","bind","onInitialized","onCropperInit","id","marginLeft","alt","icoSuccess","require","icoError","icoReload","icoSlider","STATUS_LOADING","STATUS_READY","STATUS_MATCH","arrTips","ico","text","createClipPath","ctx","size","r","save","beginPath","moveTo","lineTo","arc","Math","PI","clip","closePath","ImageCode","renderImage","status","objImage","Image","_this$props","imageWidth","imageHeight","fragmentSize","ctxShadow","refs","shadowCanvas","getContext","ctxFragment","fragmentCanvas","styleIndex","floor","random","clipX","clipY","drawImage","fillStyle","fill","restore","offsetX","offsetY","imageUrl","onShowTips","showTips","tipsIndex","clearTimeout","isMovable","startX","oldX","currX","prevProps","clientX","distance","maxX","pre","abs","onMatch","onReset","onError","_this3","clearRect","onReload","_this$props2","_this$state","tips","backgroundImage","concat","ref","left","top","onClick","onMouseMove","onMoving","onMouseLeave","onMoveEnd","onMouseDown","onMoveStart","onMouseUp","defaultProps","getImage","imgs","routes","title","path","component","ReactCropper","url","imgCode","Sider","Layout","Content","toggle","collapsed","menus","currentMenu","valid","v","some","warn","findIndex","base","filter","push","getRoutes","react_router_dom","layout","trigger","collapsible","menu","theme","mode","defaultSelectedKeys","map","i","Item","key","to","react_router","assign","render","Index","document","getElementById"],"mappings":"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","file":"static/js/main.13c3d9db.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/re_loading.c42c5205.png\";","module.exports = __webpack_public_path__ + \"static/media/stop.296a4a53.png\";","import React from 'react';\r\nexport default class App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ssr-show\">\r\n                <h1>ssr test</h1>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Cropper from 'react-cropper';\r\nimport 'cropperjs/dist/cropper.css';\r\nexport default class App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            src: 'https://gss0.baidu.com/70cFfyinKgQFm2e88IuM_a/forum/w=580/sign=3b900475252eb938ec6d7afae56385fe/61954b10b912c8fcacb9f159f6039245d78821fd.jpg',\r\n            newSrc: null,\r\n            height: 400\r\n        };\r\n    }\r\n\r\n    _crop() {\r\n        // image in dataUrl\r\n        let canvasImg = this.cropper.getCroppedCanvas({\r\n            fillColor: '#fff',\r\n            imageSmoothingQuality: 'high'\r\n        }),\r\n            newSrc = canvasImg.toDataURL()\r\n        // canvasImg.toBlob((blob)=>{\r\n        //     console.log(blob)\r\n        // })\r\n        this.setState({\r\n            newSrc\r\n        })\r\n    }\r\n    throttle(func, delay = 300) {\r\n        let { timer } = this\r\n        if (!timer) {\r\n            this.timer = setTimeout(() => {\r\n                func();\r\n                this.timer = null;\r\n            }, delay);\r\n        }\r\n    }\r\n    onCropperInit(cropper) {\r\n        this.cropper = cropper;\r\n    }\r\n    onSelectFile = e => {\r\n        if (e.target.files && e.target.files.length > 0) {\r\n            const reader = new FileReader();\r\n            reader.addEventListener(\"load\", () =>\r\n                this.setState({ src: reader.result })\r\n            );\r\n            console.log(reader.result);\r\n            reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n    };\r\n    render() {\r\n        let { height } = this.state\r\n        return <div>\r\n            <div>\r\n                <input type=\"file\" onChange={this.onSelectFile} />\r\n            </div>\r\n            <div style={{ display: 'flex' }}>\r\n                <Cropper\r\n                    src={this.state.src}\r\n                    style={{ width: '500px', height: height + 'px' }}\r\n                    // Cropper.js options\r\n                    initialAspectRatio={1 / 1}\r\n                    dragMode='crop'\r\n                    viewMode={0}\r\n                    background\r\n                    guides\r\n                    crop={this._crop.bind(this)}\r\n                    onInitialized={this.onCropperInit.bind(this)}\r\n                />\r\n                <img id=\"preview\" style={{ height: height + 'px', display: 'inline-block', marginLeft: '20px' }} src={this.state.newSrc} alt=\"\" />\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n","// index.js\r\n/**\r\n * @name ImageCode\r\n * @desc 滑动拼图验证\r\n * @author darcrand\r\n * @version 2019-02-26\r\n *\r\n * @param {String} imageUrl 图片的路径\r\n * @param {Number} imageWidth 展示图片的宽带\r\n * @param {Number} imageHeight 展示图片的高带\r\n * @param {Number} fragmentSize 滑动图片的尺寸\r\n * @param {Function} onReload 当点击'重新验证'时执行的函数\r\n * @param {Function} onMath 匹配成功时执行的函数\r\n * @param {Function} onError 匹配失败时执行的函数\r\n */\r\n\r\nimport React from \"react\"\r\n\r\nimport '../styles/login-valid.css';\r\n\r\nconst icoSuccess = require(\"../img/success.png\")\r\nconst icoError = require(\"../img/fail.png\")\r\nconst icoReload = require(\"../img/re_loading.png\")\r\nconst icoSlider = require(\"../img/stop.png\")\r\n\r\nconst STATUS_LOADING = 0 // 还没有图片\r\nconst STATUS_READY = 1 // 图片渲染完成,可以开始滑动\r\nconst STATUS_MATCH = 2 // 图片位置匹配成功\r\nconst STATUS_ERROR = 3 // 图片位置匹配失败\r\n\r\nconst arrTips = [{ ico: icoSuccess, text: \"匹配成功\" }, { ico: icoError, text: \"匹配失败\" }]\r\n\r\n// 生成裁剪路径\r\nfunction createClipPath(ctx, size = 100, styleIndex = 0) {\r\n    const styles = [\r\n        [0, 0, 0, 0],\r\n        [0, 0, 0, 1],\r\n        [0, 0, 1, 0],\r\n        [0, 0, 1, 1],\r\n        [0, 1, 0, 0],\r\n        [0, 1, 0, 1],\r\n        [0, 1, 1, 0],\r\n        [0, 1, 1, 1],\r\n        [1, 0, 0, 0],\r\n        [1, 0, 0, 1],\r\n        [1, 0, 1, 0],\r\n        [1, 0, 1, 1],\r\n        [1, 1, 0, 0],\r\n        [1, 1, 0, 1],\r\n        [1, 1, 1, 0],\r\n        [1, 1, 1, 1]\r\n    ]\r\n    const style = styles[styleIndex]\r\n\r\n    const r = 0.1 * size\r\n    ctx.save()\r\n    ctx.beginPath()\r\n    // left\r\n    ctx.moveTo(r, r)\r\n    ctx.lineTo(r, 0.5 * size - r)\r\n    ctx.arc(r, 0.5 * size, r, 1.5 * Math.PI, 0.5 * Math.PI, style[0])\r\n    ctx.lineTo(r, size - r)\r\n    // bottom\r\n    ctx.lineTo(0.5 * size - r, size - r)\r\n    ctx.arc(0.5 * size, size - r, r, Math.PI, 0, style[1])\r\n    ctx.lineTo(size - r, size - r)\r\n    // right\r\n    ctx.lineTo(size - r, 0.5 * size + r)\r\n    ctx.arc(size - r, 0.5 * size, r, 0.5 * Math.PI, 1.5 * Math.PI, style[2])\r\n    ctx.lineTo(size - r, r)\r\n    // top\r\n    ctx.lineTo(0.5 * size + r, r)\r\n    ctx.arc(0.5 * size, r, r, 0, Math.PI, style[3])\r\n    ctx.lineTo(r, r)\r\n\r\n    ctx.clip()\r\n    ctx.closePath()\r\n}\r\n\r\nclass ImageCode extends React.Component {\r\n    static defaultProps = {\r\n        imageUrl: \"\",\r\n        imageWidth: 500,\r\n        imageHeight: 300,\r\n        fragmentSize: 80,\r\n        onReload: () => { },\r\n        onMatch: () => { },\r\n        onError: () => { }\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isMovable: false,\r\n            offsetX: 0, //图片截取的x\r\n            offsetY: 0, //图片截取的y\r\n            startX: 0, // 开始滑动的 x\r\n            oldX: 0,\r\n            currX: 0, // 滑块当前 x,\r\n            status: STATUS_LOADING,\r\n            showTips: false,\r\n            tipsIndex: 0\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.renderImage()\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        // 当父组件传入新的图片后，开始渲染\r\n        if (this.props.imageUrl && prevProps.imageUrl !== this.props.imageUrl) {\r\n            this.renderImage()\r\n        }\r\n    }\r\n\r\n    renderImage = () => {\r\n        // 初始化状态\r\n        this.setState({ status: STATUS_LOADING })\r\n\r\n        // 创建一个图片对象，主要用于canvas.context.drawImage()\r\n        const objImage = new Image()\r\n\r\n        objImage.addEventListener(\"load\", () => {\r\n            const { imageWidth, imageHeight, fragmentSize } = this.props\r\n\r\n            // 先获取两个ctx\r\n            const ctxShadow = this.refs.shadowCanvas.getContext(\"2d\")\r\n            const ctxFragment = this.refs.fragmentCanvas.getContext(\"2d\")\r\n\r\n            // 让两个ctx拥有同样的裁剪路径(可滑动小块的轮廓)\r\n            const styleIndex = Math.floor(Math.random() * 16)\r\n            createClipPath(ctxShadow, fragmentSize, styleIndex)\r\n            createClipPath(ctxFragment, fragmentSize, styleIndex)\r\n\r\n            // 随机生成裁剪图片的开始坐标\r\n            const clipX = Math.floor(fragmentSize + (imageWidth - 2 * fragmentSize) * Math.random())\r\n            const clipY = Math.floor((imageHeight - fragmentSize) * Math.random())\r\n\r\n            // 让小块绘制出被裁剪的部分\r\n            ctxFragment.drawImage(objImage, clipX, clipY, fragmentSize, fragmentSize, 0, 0, fragmentSize, fragmentSize)\r\n\r\n            // 让阴影canvas带上阴影效果\r\n            ctxShadow.fillStyle = \"rgba(0, 0, 0, 0.5)\"\r\n            ctxShadow.fill()\r\n\r\n            // 恢复画布状态\r\n            ctxShadow.restore()\r\n            ctxFragment.restore()\r\n\r\n            // 设置裁剪小块的位置\r\n            this.setState({ offsetX: clipX, offsetY: clipY })\r\n\r\n            // 修改状态\r\n            this.setState({ status: STATUS_READY })\r\n        })\r\n\r\n        objImage.src = this.props.imageUrl\r\n    }\r\n\r\n    onMoveStart(e) {\r\n        if (this.state.status !== STATUS_READY) {\r\n            return\r\n        }\r\n        // 记录滑动开始时的绝对坐标x\r\n        this.setState({ isMovable: true, startX: e.clientX })\r\n    }\r\n\r\n    onMoving(e) {\r\n        if (this.state.status !== STATUS_READY || !this.state.isMovable) {\r\n            return\r\n        }\r\n        const distance = e.clientX - this.state.startX\r\n        let currX = this.state.oldX + distance\r\n\r\n        const minX = 0\r\n        const maxX = this.props.imageWidth - this.props.fragmentSize\r\n        currX = currX < minX ? 0 : currX > maxX ? maxX : currX\r\n\r\n        this.setState({ currX })\r\n    }\r\n\r\n    onMoveEnd() {\r\n        if (this.state.status !== STATUS_READY || !this.state.isMovable) {\r\n            return\r\n        }\r\n        // 将旧的固定坐标x更新\r\n        this.setState(pre => ({ isMovable: false, oldX: pre.currX }))\r\n\r\n        const isMatch = Math.abs(this.state.currX - this.state.offsetX) < 5\r\n        if (isMatch) {\r\n            this.setState(pre => ({ status: STATUS_MATCH, currX: pre.offsetX }), this.onShowTips)\r\n            this.props.onMatch()\r\n        } else {\r\n            this.setState({ status: STATUS_ERROR }, () => {\r\n                this.onReset()\r\n                this.onShowTips()\r\n            })\r\n            this.props.onError()\r\n        }\r\n    }\r\n\r\n    onReset() {\r\n        const timer = setTimeout(() => {\r\n            this.setState({ oldX: 0, currX: 0, status: STATUS_READY })\r\n            clearTimeout(timer)\r\n        }, 1000)\r\n    }\r\n\r\n    onReload() {\r\n        if (this.state.status !== STATUS_READY && this.state.status !== STATUS_MATCH) {\r\n            return\r\n        }\r\n        const ctxShadow = this.refs.shadowCanvas.getContext(\"2d\")\r\n        const ctxFragment = this.refs.fragmentCanvas.getContext(\"2d\")\r\n\r\n        // 清空画布\r\n        ctxShadow.clearRect(0, 0, this.props.fragmentSize, this.props.fragmentSize)\r\n        ctxFragment.clearRect(0, 0, this.props.fragmentSize, this.props.fragmentSize)\r\n\r\n        this.setState(\r\n            {\r\n                isMovable: false,\r\n                offsetX: 0, //图片截取的x\r\n                offsetY: 0, //图片截取的y\r\n                startX: 0, // 开始滑动的 x\r\n                oldX: 0,\r\n                currX: 0, // 滑块当前 x,\r\n                status: STATUS_LOADING\r\n            },\r\n            this.props.onReload\r\n        )\r\n    }\r\n\r\n    onShowTips = () => {\r\n        if (this.state.showTips) {\r\n            return\r\n        }\r\n\r\n        const tipsIndex = this.state.status === STATUS_MATCH ? 0 : 1\r\n        this.setState({ showTips: true, tipsIndex })\r\n        const timer = setTimeout(() => {\r\n            this.setState({ showTips: false })\r\n            clearTimeout(timer)\r\n        }, 2000)\r\n    }\r\n\r\n    render() {\r\n        const { imageUrl, imageWidth, imageHeight, fragmentSize } = this.props\r\n        const { offsetX, offsetY, currX, showTips, tipsIndex } = this.state\r\n        const tips = arrTips[tipsIndex]\r\n\r\n        return <div className=\"image-code\" style={{ width: imageWidth }}>\r\n            <div className=\"image-container\" style={{ height: imageHeight, backgroundImage: `url(\"${imageUrl}\")` }}>\r\n                <canvas\r\n                    ref=\"shadowCanvas\"\r\n                    className=\"canvas\"\r\n                    width={fragmentSize}\r\n                    height={fragmentSize}\r\n                    style={{ left: offsetX + \"px\", top: offsetY + \"px\" }}\r\n                />\r\n                <canvas\r\n                    ref=\"fragmentCanvas\"\r\n                    className=\"canvas\"\r\n                    width={fragmentSize}\r\n                    height={fragmentSize}\r\n                    style={{ top: offsetY + \"px\", left: currX + \"px\" }}\r\n                />\r\n\r\n                <div className={showTips ? \"tips-container--active\" : \"tips-container\"}>\r\n                    <i className=\"tips-ico\" style={{ backgroundImage: `url(\"${tips.ico}\")` }} />\r\n                    <span className=\"tips-text\">{tips.text}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"reload-container\">\r\n                <div className=\"reload-wrapper\" onClick={this.onReload.bind(this)}>\r\n                    <i className=\"reload-ico\" style={{ backgroundImage: `url(\"${icoReload}\")` }} />\r\n                    <span className=\"reload-tips\">刷新验证</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"slider-wrpper\" onMouseMove={this.onMoving.bind(this)} onMouseLeave={this.onMoveEnd.bind(this)}>\r\n                <div className=\"slider-bar\">按住滑块，拖动完成拼图</div>\r\n                <div\r\n                    className=\"slider-button\"\r\n                    onMouseDown={this.onMoveStart.bind(this)}\r\n                    onMouseUp={this.onMoveEnd.bind(this)}\r\n                    style={{ left: currX + \"px\", backgroundImage: `url(\"${icoSlider}\")` }}\r\n                />\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default ImageCode","import React, { Component } from \"react\";\r\nimport ImageCode from './imgCode'\r\nfunction getImage() {\r\n    let imgs = ['https://gss0.baidu.com/70cFfyinKgQFm2e88IuM_a/forum/w=580/sign=3b900475252eb938ec6d7afae56385fe/61954b10b912c8fcacb9f159f6039245d78821fd.jpg', 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=991571279,1492844361&fm=26&gp=0.jpg','https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=4227342398,2949207363&fm=26&gp=0.jpg'],\r\n        random = Math.random(),\r\n        index = Math.floor(random * (imgs.length));\r\n    // console.log(random, '-index', index)\r\n    return imgs[index] + \"?\" + Math.random()\r\n}\r\nexport default class App extends Component {\r\n    state = {\r\n        url: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ url: getImage() })\r\n    }\r\n\r\n    onReload = () => {\r\n        this.setState({ url: getImage() })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ImageCode\r\n                    imageUrl={this.state.url}\r\n                    onReload={this.onReload.bind(this)}\r\n                    onMatch={() => {\r\n                        console.log(\"code is match\")\r\n                    }}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}","import App from '../components/App'\r\nimport ReactCropper from '../components/react-cropper'\r\nimport loginValid from '../components/loginValid'\r\nlet routes = [\r\n    {\r\n        title: 'App',\r\n        path: '/',\r\n        component: App\r\n    },\r\n    {\r\n        title: '裁剪',\r\n        path: '/reactCropper',\r\n        component: ReactCropper\r\n    },\r\n    {\r\n        title: '拼图验证',\r\n        path: '/loginValid',\r\n        component: loginValid\r\n    }\r\n]\r\nexport default routes","import React, { Component } from 'react';\r\nimport {\r\n    HashRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\nimport { Layout, Menu } from 'antd';\r\nimport routes from './routes'\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            collapsed: false,\r\n            menus: routes,\r\n            currentMenu: '0',\r\n            routes: getRoutes(routes)\r\n        }\r\n        function getRoutes(routes = []) {\r\n            function valid(v) {\r\n                return v.path === '/'\r\n            }\r\n            if (!routes.some(v => valid(v))) {\r\n                return console.warn(\"Don`t have route who path === '/'\")\r\n            } else if (routes.findIndex(v => valid(v)) === routes.length - 1) {\r\n                console.warn(\"Route`s index already in last who path === '/'\")\r\n                return\r\n            }\r\n            let base = null;\r\n            routes = routes.filter(v => {\r\n                if (valid(v))\r\n                    base = v\r\n                return !valid(v)\r\n            })\r\n            routes.push(base)\r\n            return routes\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            collapsed: !this.state.collapsed,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return <Router>\r\n            <Layout style={{ height: '100%' }}>\r\n                {/* <Header style={{ background: '#fff', padding: 0 }}>\r\n                    <Icon\r\n                        className=\"trigger\"\r\n                        type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\r\n                        onClick={this.toggle}\r\n                    />\r\n                </Header> */}\r\n                <Layout>\r\n                    <Sider trigger={null} collapsible collapsed={this.state.collapsed}>\r\n                        <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[this.state.currentMenu]}>\r\n                            {this.state.menus.map((v, i) => <Menu.Item key={i}>\r\n                                <Link to={v.path}>{v.title}</Link>\r\n                            </Menu.Item>)}\r\n                        </Menu>\r\n                    </Sider>\r\n                    <Content>\r\n                        <Switch>\r\n                            {this.state.routes.map((v, i) => <Route key={i} {...v} />)}\r\n                            {/* <Route path=\"/LifeCycle\" component={LifeCycle} /> */}\r\n                            {/* 一条路径= \" / \"将* *总是匹配 　　因为所有的URL网址以/开头。这是为什么我们把这最后一个* / */}\r\n                            {/* <Route path=\"/\" component={RenderDom} /> */}\r\n                        </Switch>\r\n                    </Content>\r\n                </Layout>\r\n            </Layout>\r\n        </Router>\r\n    }\r\n}\r\nexport default App\r\n","import React from 'react';\nimport { render } from 'react-dom';\nimport \"./styles/index.css\";\n\n\n// import Index from './components/App';\nimport Index from './pages/Index';\nrender(<Index />, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/success.9299ba7c.png\";","module.exports = __webpack_public_path__ + \"static/media/fail.43af1c05.png\";"],"sourceRoot":""}